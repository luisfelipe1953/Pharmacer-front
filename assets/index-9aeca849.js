import{m as r,j as n,z as p}from"./index-abe0b119.js";r.defaults.baseURL="https://sea-turtle-app-8css4.ondigitalocean.app/api/";function w(){const s=n([]),o=n([]),t=n({}),i=p(),c=localStorage.getItem("token"),h=async()=>{const e=await r.get("pharmacies");o.value=e.data.pharmacies};return{pharmacy:s,pharmacies:o,getPharmacy:async e=>{const a=await r.get("pharmacies/"+e);s.value=a.data.pharmacy},getPharmacies:h,storePharmacy:async e=>{try{const a=await r.post("pharmacies",e,{headers:{Authorization:"bearer"+c}});await i.push({name:"PharmacyIndex"})}catch(a){a.response.status===422&&(t.value=a.response)}},updatePharmacy:async e=>{try{await r.put("pharmacies/"+e,s.value,{headers:{Authorization:"bearer"+c}}),await i.push({name:"PharmacyIndex"})}catch(a){a.response.status===422&&(t.value=a.response)}},destroyPharmacy:async e=>{window.confirm("Are you sure you want to destroy")&&(await r.delete("pharmacies/"+e,{headers:{Authorization:"bearer"+c}}),await h())},getNeartPharmacies:async e=>{try{const a=await r.post("pharmacy-nearby",e);o.value=a.data}catch(a){a.response.status===422&&(t.value=a.response)}},errors:t}}export{w as u};
