import{m as s,j as n,z as p}from"./index-f6f5b9c8.js";s.defaults.baseURL="https://sea-turtle-app-8css4.ondigitalocean.app/api/";function g(){const o=n([]),c=n([]),r=n({}),i=p(),t=localStorage.getItem("token"),h=async()=>{const e=await s.get("pharmacies");c.value=e.data.pharmacies};return{pharmacy:o,pharmacies:c,getPharmacy:async e=>{const a=await s.get("pharmacies/"+e);o.value=a.data.pharmacy},getPharmacies:h,storePharmacy:async e=>{try{const a=await s.post("pharmacies",e,{headers:{Authorization:"bearer"+t}});await i.push({name:"PharmacyIndex"})}catch(a){console.log(t),a.response.status===422&&(r.value=a.response)}},updatePharmacy:async e=>{try{await s.put("pharmacies/"+e,o.value,{headers:{Authorization:"bearer"+t}}),await i.push({name:"PharmacyIndex"})}catch(a){console.log(a.response),a.response.status===422&&(r.value=a.response.data)}},destroyPharmacy:async e=>{window.confirm("Are you sure you want to destroy")&&(await s.delete("pharmacies/"+e,{headers:{Authorization:"bearer"+t}}),await h())},getNeartPharmacies:async e=>{try{const a=await s.post("pharmacy-nearby",e);c.value=a.data}catch(a){a.response.status===422&&(r.value=a.response)}},errors:r}}export{g as u};
